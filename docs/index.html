<html>

<head>
    <title>Docs</title>
    <link rel="stylesheet" href="style/MDstyle.css">
    <!-- Include Showdown library from CDN -->
</head>

<body>
    <div class="sidebar">
        <ul>
            <li id="Home_Button" onclick="setMD('markdown/InterfaceSpec.md')">InterfaceSpec</a></li>
            <li id="About_Button" onclick="setMD('markdown/PacketDocs.md')">PacketDocs</a></li>
            <li id="Services_Button" onclick="setMD('markdown/Test.md')">Services</a></li>
        </ul>
    </div>
    
    <div id="markdownContent" class="mainPage"></div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js"></script>
    <script src="script/markdown.js"></script>
    <script src="script/packetDoc.js"></script>
    <script>
        async function makeCollapsable() {
            const collapsible = document.querySelectorAll('.collapsible');

            collapsible.forEach(element => {
                element.addEventListener('click', function() {
                    const targetId = element.getAttribute('data-target');
                    console.log(targetId)
                    const content = document.getElementById(targetId);

                    if (content.style.display === 'block') {
                        content.style.display = 'none';
                    } else {
                        content.style.display = 'block';
                    }
                });
            })
        }

        async function setMD(markDownFile) {
            await setActiveMarkdown(markDownFile);
            await InsertPacketDocs();
            makeCollapsable();
        }

        document.addEventListener("DOMContentLoaded",function () {
            setMD("markdown/InterfaceSpec.md")
        });
    </script>
</body>

</html>