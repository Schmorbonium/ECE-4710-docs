<html>

<head>
    <title>Docs</title>
    <link rel="stylesheet" type="text/css" href="collapse.css">
    <!-- Include Showdown library from CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js"></script>
    <script>
        showdown.setOption('tasklists', true);
        showdown.setOption('simplifiedAutoLink', true);
        showdown.setOption('ghMentions', true);
        showdown.setOption('simpleLineBreaks', true);
        showdown.setOption('tables', 'true');
    </script>
    <script src="tableBuilder.js"></script>
</head>

<body>


    <!-- <button class="collapsible">Click to Toggle</button>
    <div class="content">
        <p>This is the content of the collapsible section.</p>
    </div> -->

    <div id="markdownContent"></div>

    <script>
        document.addEventListener("DOMContentLoaded",function () {
            var markdownFilePath = "InterfaceSpec.md"; // Relative path to the Markdown file
            // Fetch the Markdown file content
            fetch(markdownFilePath)
                .then(response => response.text())
                .then(async markdownText => {
                    var markdownConverter = new showdown.Converter();
                    var htmlContent = markdownConverter.makeHtml(markdownText);

                    var markdownContainer = document.getElementById("markdownContent");
                    markdownContainer.innerHTML = htmlContent;
                    await replaceTables();

                    const coll = markdownContainer.querySelector('.collapsible');
                    const content = markdownContainer.querySelector('.content');
                    coll.addEventListener('click', function () {
                        console.log("Hello")
                        if (content.style.display === 'block') {
                            content.style.display = 'none';
                        } else {
                            content.style.display = 'block';
                        }
                    });
                })
                .catch(error => {
                    console.error("Error loading Markdown:", error);
                });
        });
    </script>
</body>

</html>